(this["webpackJsonprailway-app"]=this["webpackJsonprailway-app"]||[]).push([[0],{11:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(6),s=n.n(r),i=(n(11),n(3)),o=n.n(i),l=n(4),u=n(2),j={data:[{city:"\u5e38\u7528",station:["\u57fa\u9686","\u4e03\u5835","\u5357\u6e2f","\u677e\u5c71","\u81fa\u5317","\u842c\u83ef","\u677f\u6a4b","\u6a39\u6797","\u6843\u5712","\u4e2d\u58e2","\u65b0\u7af9","\u7af9\u5357","\u82d7\u6817","\u8c50\u539f","\u81fa\u4e2d","\u5f70\u5316","\u54e1\u6797","\u6597\u516d","\u5609\u7fa9","\u65b0\u71df","\u81fa\u5357","\u5ca1\u5c71","\u65b0\u5de6\u71df","\u9ad8\u96c4","\u5c4f\u6771","\u6f6e\u5dde","\u81fa\u6771","\u7389\u91cc","\u82b1\u84ee","\u8607\u6fb3\u65b0","\u5b9c\u862d","\u745e\u82b3"]},{city:"\u57fa\u9686\u5e02",station:["\u57fa\u9686","\u4e09\u5751","\u516b\u5835","\u4e03\u5835","\u767e\u798f","\u6d77\u79d1\u9928","\u6696\u6696"]},{city:"\u65b0\u5317\u5e02",station:["\u4e94\u5835","\u6c50\u6b62","\u6c50\u79d1","\u677f\u6a4b","\u6d6e\u6d32","\u6a39\u6797","\u5357\u6a39\u6797","\u5c71\u4f73","\u9daf\u6b4c","\u798f\u9686","\u8ca2\u5bee","\u96d9\u6eaa","\u7261\u4e39","\u4e09\u8c82\u5dba","\u5927\u83ef","\u5341\u5206","\u671b\u53e4","\u5dba\u8173","\u5e73\u6eaa","\u83c1\u6850","\u7334\u7850","\u745e\u82b3","\u516b\u6597\u5b50","\u56db\u8173\u4ead"]},{city:"\u81fa\u5317\u5e02",station:["\u5357\u6e2f","\u677e\u5c71","\u81fa\u5317","\u81fa\u5317-\u74b0\u5cf6","\u842c\u83ef"]},{city:"\u6843\u5712\u5e02",station:["\u6843\u5712","\u5167\u58e2","\u4e2d\u58e2","\u57d4\u5fc3","\u694a\u6885","\u5bcc\u5ca1","\u65b0\u5bcc"]},{city:"\u65b0\u7af9\u7e23",station:["\u5317\u6e56","\u6e56\u53e3","\u65b0\u8c50","\u7af9\u5317","\u7af9\u4e2d","\u516d\u5bb6","\u4e0a\u54e1","\u69ae\u83ef","\u7af9\u6771","\u6a6b\u5c71","\u4e5d\u8b9a\u982d","\u5408\u8208","\u5bcc\u8cb4","\u5167\u7063"]},{city:"\u65b0\u7af9\u5e02",station:["\u5317\u65b0\u7af9","\u5343\u7532","\u65b0\u838a","\u65b0\u7af9","\u4e09\u59d3\u6a4b","\u9999\u5c71"]},{city:"\u82d7\u6817\u7e23",station:["\u5d0e\u9802","\u7af9\u5357","\u8ac7\u6587","\u5927\u5c71","\u5f8c\u9f8d","\u9f8d\u6e2f","\u767d\u6c99\u5c6f","\u65b0\u57d4","\u901a\u9704","\u82d1\u88e1","\u9020\u6a4b","\u8c50\u5bcc","\u82d7\u6817","\u5357\u52e2","\u9285\u947c","\u4e09\u7fa9"]},{city:"\u81fa\u4e2d\u5e02",station:["\u65e5\u5357","\u5927\u7532","\u81fa\u4e2d\u6e2f","\u6e05\u6c34","\u6c99\u9e7f","\u9f8d\u4e95","\u5927\u809a","\u8ffd\u5206","\u6cf0\u5b89","\u540e\u91cc","\u8c50\u539f","\u6817\u6797","\u6f6d\u5b50","\u982d\u5bb6\u539d","\u677e\u7af9","\u592a\u539f","\u7cbe\u6b66","\u81fa\u4e2d","\u4e94\u6b0a","\u5927\u6176","\u70cf\u65e5","\u65b0\u70cf\u65e5","\u6210\u529f"]},{city:"\u5f70\u5316\u7e23",station:["\u5f70\u5316","\u82b1\u58c7","\u5927\u6751","\u54e1\u6797","\u6c38\u9756","\u793e\u982d","\u7530\u4e2d","\u4e8c\u6c34","\u6e90\u6cc9"]},{city:"\u5357\u6295\u7e23",station:["\u6fc1\u6c34","\u9f8d\u6cc9","\u96c6\u96c6","\u6c34\u91cc","\u8eca\u57d5"]},{city:"\u96f2\u6797\u7e23",station:["\u6797\u5167","\u77f3\u69b4","\u6597\u516d","\u6597\u5357","\u77f3\u9f9c"]},{city:"\u5609\u7fa9\u7e23",station:["\u5927\u6797","\u6c11\u96c4","\u6c34\u4e0a","\u5357\u9756"]},{city:"\u5609\u7fa9\u5e02",station:["\u5609\u5317","\u5609\u7fa9"]},{city:"\u81fa\u5357\u5e02",station:["\u5f8c\u58c1","\u65b0\u71df","\u67f3\u71df","\u6797\u9cf3\u71df","\u9686\u7530","\u62d4\u6797","\u5584\u5316","\u5357\u79d1","\u65b0\u5e02","\u6c38\u5eb7","\u5927\u6a4b","\u81fa\u5357","\u4fdd\u5b89","\u4ec1\u5fb7","\u4e2d\u6d32","\u9577\u69ae\u5927\u5b78","\u6c99\u5d19"]},{city:"\u9ad8\u96c4\u5e02",station:["\u5927\u6e56","\u8def\u7af9","\u5ca1\u5c71","\u6a4b\u982d","\u6960\u6893","\u65b0\u5de6\u71df","\u5de6\u71df","\u5167\u60df","\u7f8e\u8853\u9928","\u9f13\u5c71","\u4e09\u584a\u539d","\u9ad8\u96c4","\u6c11\u65cf","\u79d1\u5de5\u9928","\u6b63\u7fa9","\u9cf3\u5c71","\u5f8c\u5e84","\u4e5d\u66f2\u5802"]},{city:"\u5c4f\u6771\u7e23",station:["\u516d\u584a\u539d","\u5c4f\u6771","\u6b78\u4f86","\u9e9f\u6d1b","\u897f\u52e2","\u7af9\u7530","\u6f6e\u5dde","\u5d01\u9802","\u5357\u5dde","\u93ae\u5b89","\u6797\u908a","\u4f73\u51ac","\u6771\u6d77","\u678b\u5bee","\u52a0\u797f","\u5167\u7345","\u678b\u5c71"]},{city:"\u81fa\u6771\u7e23",station:["\u5927\u6b66","\u7027\u6eaa","\u91d1\u5d19","\u592a\u9ebb\u91cc","\u77e5\u672c","\u5eb7\u6a02","\u81fa\u6771","\u5c71\u91cc","\u9e7f\u91ce","\u745e\u6e90","\u745e\u548c","\u95dc\u5c71","\u6d77\u7aef","\u6c60\u4e0a"]},{city:"\u82b1\u84ee\u7e23",station:["\u5bcc\u91cc","\u6771\u7af9","\u6771\u91cc","\u7389\u91cc","\u4e09\u6c11","\u745e\u7a57","\u5bcc\u6e90","\u5927\u5bcc","\u5149\u5fa9","\u842c\u69ae","\u9cf3\u6797","\u5357\u5e73","\u6797\u69ae\u65b0\u5149","\u8c50\u7530","\u58fd\u8c50","\u5e73\u548c","\u5fd7\u5b78","\u5409\u5b89","\u82b1\u84ee","\u5317\u57d4","\u666f\u7f8e","\u65b0\u57ce","\u5d07\u5fb7","\u548c\u4ec1","\u548c\u5e73"]},{city:"\u5b9c\u862d\u7e23",station:["\u6f22\u672c","\u6b66\u5854","\u5357\u6fb3","\u6771\u6fb3","\u6c38\u6a02","\u8607\u6fb3","\u8607\u6fb3\u65b0","\u65b0\u99ac","\u51ac\u5c71","\u7f85\u6771","\u4e2d\u91cc","\u4e8c\u7d50","\u5b9c\u862d","\u56db\u57ce","\u7901\u6eaa","\u9802\u57d4","\u982d\u57ce","\u5916\u6fb3","\u9f9c\u5c71","\u5927\u6eaa","\u5927\u91cc","\u77f3\u57ce"]}]},b=n(0),O=c.a.createContext(),h=function(t){var e=t.children;console.log("context.js :");var n=Object(a.useState)([]),c=Object(u.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),h=Object(u.a)(i,2),p=h[0],d=h[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),m=f[0],v=f[1],T=Object(a.useState)(""),S=Object(u.a)(T,2),y=S[0],g=S[1],N=Object(a.useState)(""),D=Object(u.a)(N,2),w=D[0],C=D[1],F=Object(a.useState)(""),I=Object(u.a)(F,2),E=I[0],k=I[1],A=Object(a.useState)(null),Z=Object(u.a)(A,2),_=Z[0],R=Z[1],$=Object(a.useState)(null),J=Object(u.a)($,2),M=J[0],L=J[1],U=Object(a.useState)(""),Y=Object(u.a)(U,2),P=Y[0],V=Y[1],q=Object(a.useState)(null),B=Object(u.a)(q,2),G=B[0],z=B[1],H=Object(a.useState)(!1),K=Object(u.a)(H,2),Q=K[0],W=K[1];Object(a.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://ptx.transportdata.tw/MOTC/v3/Rail/TRA/Station?$select=StationName%2CStationID&$format=JSON");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,s(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){""!==m&&""!==y&&r.Stations.forEach((function(t){var e=t.StationID,n=t.StationName;n.Zh_tw===m&&C(e),n.Zh_tw===y&&k(e)}))}),[m,y]);var X=function(){var t=Object(l.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==p&&""!==w&&""!==E&&!1!==Q){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://ptx.transportdata.tw/MOTC/v3/Rail/TRA/DailyTrainTimetable/OD/".concat(w,"/to/").concat(E,"/").concat(p,"?$format=JSON"));case 4:return e=t.sent,t.next=7,e.json();case 7:(n=(n=t.sent).TrainTimetables).sort((function(t,e){return t.StopTimes[0].DepartureTime.replace(/[^0-9]/gi,"")>e.StopTimes[0].DepartureTime.replace(/[^0-9]/gi,"")?1:-1})),R(n);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),tt=function(){var t=Object(l.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==w&&""!==E&&!1!==Q){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://ptx.transportdata.tw/MOTC/v3/Rail/TRA/ODFare/".concat(w,"/to/").concat(E,"?$select=Fares&$filter=Direction%20eq%201%20\n      &$format=JSON"));case 4:return e=t.sent,t.next=7,e.json();case 7:n=(n=t.sent).ODFares,L(n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),et=function(){var t=Object(l.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==P&&!1!==Q){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://ptx.transportdata.tw/MOTC/v3/Rail/TRA/GeneralTrainTimetable/TrainNo/".concat(P,"?&$format=JSON"));case 4:return e=t.sent,t.next=7,e.json();case 7:n=(n=t.sent).TrainTimetables,z(n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){X(),tt(),et(),W(!1),v(""),g(""),C(""),k(""),V("")}),[Q]),console.log("1 \u8eca\u7ad9\u4e0b\u62c9\u9078\u55ae\u8cc7\u6599:".concat(j,"/ \u8eca\u7ad9\u8cc7\u6599:").concat(r)),console.log("2 \u65e5\u671f:".concat(p,"/ \u51fa\u767c\u7ad9\u540d:").concat(m,"/ \u62b5\u9054\u7ad9\u540d:").concat(y,"/ \u51fa\u767c\u7ad9ID:").concat(w,"/ \u62b5\u9054\u7ad9ID:").concat(E)),console.log("3 \u6642\u523b\u8eca\u7a2e\u8eca\u6b21\u8cc7\u6599:".concat(_,"/ \u7968\u50f9\u8cc7\u6599:").concat(M)),console.log("4 \u8eca\u6b21:".concat(P,"/ \u8eca\u6b21\u8cc7\u6599:").concat(G)),Object(b.jsx)(O.Provider,{value:{stationSelectData:j,selectedDate:p,setSelectedDate:d,startName:m,finishName:y,setStartName:v,setFinishName:g,resultsData:_,setIsSending:W,faresData:M,trainNo:P,setTrainNo:V,trainNoData:G},children:e})},p=function(){return Object(a.useContext)(O)};var d=function(){console.log("DateSelector.js :");var t=p(),e=t.selectedDate,n=t.setSelectedDate;return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"\u65e5\u671f: "}),Object(b.jsx)("input",{type:"text",placeholder:"YYYY-MM-DD",value:e,onChange:function(t){return n(t.target.value)}})]})};var x=function(){console.log("CitySeletor.js :");var t=p(),e=t.stationSelectData,n=t.startName,a=t.setStartName,c=t.setFinishName,r=t.setIsSending;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"\u51fa\u767c\u7ad9: "}),Object(b.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(t){return a(t.target.value)},children:[Object(b.jsx)("option",{value:"DEFAULT",disabled:!0,children:"\u8acb\u9078\u64c7"}),e.data.map((function(t,e){return Object(b.jsx)("optgroup",{label:t.city,children:t.station.map((function(t,e){return Object(b.jsx)("option",{value:t,children:t},e)}))},e)}))]})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"\u62b5\u9054\u7ad9: "}),Object(b.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(t){return c(t.target.value)},children:[Object(b.jsx)("option",{value:"DEFAULT",disabled:!0,children:"\u8acb\u9078\u64c7"}),e.data.map((function(t,e){return Object(b.jsx)("optgroup",{label:t.city,children:t.station.map((function(t,e){return t===n?Object(b.jsx)("option",{value:t,disabled:!0,children:t},e):Object(b.jsx)("option",{value:t,children:t},e)}))},e)}))]}),Object(b.jsx)("button",{type:"button",onClick:function(){r(!0)},children:"\u67e5\u8a62"})]})]})};var f=function(){console.log("Results.js :");var t=p(),e=t.resultsData,n=t.faresData;return Object(b.jsx)(b.Fragment,{children:e&&n&&Object(b.jsxs)("section",{children:[Object(b.jsx)("span",{className:"bold",children:"\u51fa\u767c\u6642\u9593--\u62b5\u9054\u6642\u9593--\u8eca\u7a2e\u8eca\u6b21(\u8d77\u9ede--\x3e\u7d42\u9ede)-----\u7968\u50f9"}),e.map((function(t,e){var a=t.TrainInfo,c=t.StopTimes,r=a.TrainTypeCode,s=a.TrainTypeName,i=a.TrainNo,o=a.StartingStationName,l=a.EndingStationName,u=c[0].DepartureTime,j=c[c.length-1].ArrivalTime,O=n.filter((function(t){return t.TrainType===parseInt(r)})),h=[];return O[0].Fares.forEach((function(t){var e=t.FareClass,n=t.Price;1===e?h.push("\u6210\u4eba:".concat(n)):3===e?h.push("\u5b69\u7ae5:".concat(n)):4===e&&h.push("\u656c\u8001:".concat(n))})),Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[u,"---\x3e",j,"----------"]}),Object(b.jsxs)("span",{children:[s.Zh_tw.match("\u81ea\u5f37")?"\u81ea\u5f37":s.Zh_tw,i]}),Object(b.jsxs)("span",{children:["(",o.Zh_tw,"---\x3e",l.Zh_tw,")----"]}),h.map((function(t,e){return Object(b.jsx)("span",{children:t},e)}))]},e)}))]})})};var m=function(){console.log("TrainNoSelector.js :");var t=p(),e=t.trainNo,n=t.setTrainNo,a=t.setIsSending,c=t.trainNoData;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("label",{children:"\u8eca\u6b21:"}),Object(b.jsx)("input",{type:"text",placeholder:"1137",value:e,onChange:function(t){return n(t.target.value)}}),Object(b.jsx)("button",{onClick:function(){return a(!0)},children:"\u67e5\u8a62"})]}),c&&Object(b.jsxs)("section",{children:[Object(b.jsx)("div",{className:"bold",children:"\u8eca\u7a2e\u8eca\u6b21(\u8d77\u9ede--\x3e\u7d42\u9ede)"}),Object(b.jsx)("span",{children:c[0].TrainInfo.TrainTypeName.Zh_tw}),Object(b.jsx)("span",{children:c[0].TrainInfo.TrainNo}),Object(b.jsxs)("span",{children:["(",c[0].TrainInfo.StartingStationName.Zh_tw,"---\x3e",c[0].TrainInfo.EndingStationName.Zh_tw,")"]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"bold",children:"\u505c\u9760\u7ad9--\u62b5\u9054\u6642\u9593--\u51fa\u767c\u6642\u9593"}),c[0].StopTimes.map((function(t,e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[t.StationName.Zh_tw,"-----"]}),Object(b.jsxs)("span",{children:[t.ArrivalTime,"-----"]}),Object(b.jsx)("span",{children:t.ArrivalTime}),Object(b.jsx)("br",{})]},e)}))]})]})};var v=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"\u53f0\u9435\u6642\u523b\u67e5\u8a62"}),Object(b.jsx)("h2",{children:"\u4f9d\u51fa\u767c\u62b5\u9054\u7ad9\u67e5\u8a62:"}),Object(b.jsx)(d,{}),Object(b.jsx)(x,{}),Object(b.jsx)(f,{}),Object(b.jsx)("h1",{children:"------------------------------"}),Object(b.jsx)("h2",{children:"\u4f9d\u8eca\u6b21\u67e5\u8a62:"}),Object(b.jsx)(m,{})]})};s.a.render(Object(b.jsx)(h,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5dc32efe.chunk.js.map